const productImg=document.getElementById("product-img"),productTitle=document.getElementById("product-title"),productDesc=document.getElementById("product-desc"),productPrice=document.getElementById("product-price"),addToCart=document.getElementById("add-to-cart"),plus=document.getElementById("plus"),minus=document.getElementById("minus"),qtyEl=document.getElementById("qty"),successMsg=document.getElementById("success-msg");const id=(new URLSearchParams(location.search)).get("id");let qty=1;fetch(`https://fakestoreapi.com/products/${id}`).then(a=>a.json()).then(a=>{productImg.src=a.image,productTitle.textContent=a.title,productDesc.textContent=a.description,productPrice.textContent=(80*a.price).toFixed(0),addToCart.onclick=()=>{const b=getCart();b.find(b=>b.id===a.id)?b.find(b=>b.id===a.id).qty+=qty:b.push({id:a.id,title:a.title,price:80*a.price,image:a.image,qty}),saveCart(b),updateCartCount(),successMsg.textContent="Added to cart!"}});plus.onclick=()=>{qtyEl.textContent=++qty};minus.onclick=()=>{qty>1&&(qtyEl.textContent=--qty)};"function"!=typeof getCart&&alert("Cart system failed to load");
